# Snapshot Fixtures

This directory holds snapshot test fixtures for `adjust_line_wrapping()`. Fixtures are raw PTY output captured from real Claude Code sessions.

## Structure

- `[a-z]*.md` — Prompt bodies fed to Claude Code by `capture.exp`. Each file becomes a test fixture: the script sends it and saves the rendered output as `{name}.capture.raw`.
- `*.capture.raw` — Raw PTY output captured at 40 columns × 1000 rows. These are binary files containing terminal escape sequences. Regenerate with `capture.exp`; do not hand-edit.
- `*.snap` + `*.snap.raw` — insta binary snapshot files (auto-generated by `cargo test` / `cargo insta review`). Do not hand-edit.
- `capture.exp` — Expect script that automates the capture. Run `expect capture.exp` from any directory, or `expect capture.exp bare` to capture a single input. Each session uses `--model haiku` to keep costs low.

## Regenerating captures

```
expect src/tty_text/reformat/snapshots/capture.exp
```

Captures must be regenerated when Claude Code changes its rendering behavior (e.g., new terminal UI chrome, different markdown rendering).
